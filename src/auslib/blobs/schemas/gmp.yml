---
  title: GMP Blob
  type: object
  required:
    - name
    - schema_version
    - hashFunction
    - vendors
  additionalProperties: false
  properties:
    name:
      type: string
      description: Human readable identifier
      minLength: 1
      maxLength: 100
    product:
      type: string
      description: The product that the blob is associated to
      minLength: 1
      maxLength: 100
    schema_version:
      type: number
      description: Blob identifier number
      enum:
        - 1000
    hashFunction:
      type: string
      description: Hash function of files pointed at (returned in responses generated by this Blob)
    vendors:
      type: object
      patternProperties:
        ^.+$:
          type: object
          required:
            - version
          additionalProperties: false
          properties:
            version:
              type: string
              description: Version number of files for this vendor
            platforms:
              type: object
              patternProperties:
                ^.+$:
                  oneOf:
                    -
                      type: object
                      required:
                        - alias
                      properties:
                        alias:
                          type: string
                          description: Platform to look for file details in instead of this one. Must match another existing platform name.
                    -
                      type: object
                      additionalProperties: false
                      required:
                        - filesize
                        - hashValue
                        - fileUrl
                      properties:
                        filesize:
                          type: number
                          description: The size of the file for this vendor+platform combination. The client uses this to help verify it after downloading.
                        hashValue:
                          type: string
                          description: The hash (using the "hashFunction" algorithm) of the file for this vendor+platform combination. The client uses this to help verify it after downloading.
                        # For backwards compatibility reasons, fileUrl and mirrorUrls are two
                        # separate properties, both containing URLs from which the addon can be
                        # downloaded. The fileUrl is the primary URL which should be tried first.
                        # If that fails and the client supports it, it should attempt the mirror
                        # URLs in the given order.
                        fileUrl:
                          type: string
                          description: Where the client can download the file for this vendor+platform combination.
                          format: uri
                        mirrorUrls:
                          type: array
                          description: Alternative locations where the client can download the file for this vendor+platform combination.
                          items:
                            type: string
                            format: uri
