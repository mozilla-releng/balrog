<div>
  <h2>
    <span>History/Logs</span>
  </h2>
  <div class="row">
    <div class="col-md-2">
      <ul class="nav nav-pills nav-stacked">
        <li ng-class="{ active: columnTabSet(1) }">
          <a href ng-click="setColumnTab(1)">Rules</a>
        </li>
        <li ng-class="{ active: columnTabSet(2) }">
          <a href ng-click="setColumnTab(2)">Releases</a>
        </li>
        <li ng-class="{ active: columnTabSet(3) }">
          <a href ng-click="setColumnTab(3)">Permissions</a>
        </li>
      </ul>
    </div>
    <div class="col-md-10">
      <div class="row">
        <div class="col-sm-12">
          <label class="col-sm-2">Filter By:</label>
          <div class="col-sm-8" ng-model="filter">
            <div class="row" ng-show="isShowUsername">
              <div class="col-md-5">
                <label for="id_username">Username/ Email</label>
                <fieldset>
                  <input type="text" id="id_username" ng-model="username_email">
                  <button class="remove" ng-click="hideUsername()">-</button>
                </fieldset>
              </div>
            </div>
            <div class="row">
              <div class="col-md-5">
                <label for="id_startdate">Start Date</label>
                <div class="form-group dropdown">
                    <div class="input-group"  is-open="calendar_is_open" ng-class="{'has-error': date_error}">
                        <span class="input-group-btn">
                                <button class="btn btn-secondary dropdown-toggle" type="button" ng-disabled="auto_time">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                </button>
                            </span>
                        <input type="text" id="id_when" class="form-control" data-ng-model="hs_startDate" ng-blur="setWhen()">
                      </div>
                      <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                          <datetimepicker data-ng-model="hs_startDate" data-datetimepicker-config="{ minuteStep: 5 }" data-on-set-time="setWhen(newDate)"
                          />
                        </ul>
                        <p class="help-block" ng-show="date_error">{{ date_error.join(', ') }}</p>
                 
                </div>
              </div>
              <div class="col-md-5">
                <label for="id_startdate">End Date</label>
                <div class="form-group dropdown" is-open="calendar_is_open" ng-class="{'has-error': enddate_error}">
                  <div class="input-group">
                    <span class="input-group-btn">
                            <button class="btn btn-secondary dropdown-toggle" type="button" ng-disabled="auto_time">
                                <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                        </span>
                    <input type="text" id="id_when" class="form-control" data-ng-model="hs_endDate" ng-blur="setWhen()">
                  </div>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <datetimepicker data-ng-model="hs_endDate" data-datetimepicker-config="{ minuteStep: 5 }" data-on-set-time="setWhen(newDate)"
                    />
                  </ul>
                  <p class="help-block" ng-show="date_error">{{ date_error.join(', ') }}</p>
                </div>
              </div>
              <button class="remove remove-button" ng-click="hideTimestamp()">-</button>
            </div>
            <div class="row">
              <div class="col-md-8" ng-show="isShowPrCh">
                <label for="hs_pr_ch_filter">Product/Channel</label>
                <fieldset>
                  <select ng-model="hs_pr_ch_filter" name="hs_pr_ch_filter" ng-options="pr_ch_pair for pr_ch_pair in pr_ch_options track by pr_ch_pair">
                        </select>
                  <button class="remove" ng-click="hidePrCh()">-</button>
                </fieldset>
              </div>
              <div class="col-md-2">
                <button class="btn btn-primary">Search</button>
              </div>
            </div>
          </div>
          <div class="col-sm-2
             text-right">
            <label>Add Filter:</label>
            <select ng-model="filtering_str" name="filtering_str" ng-selected="filterSelected(filtering_str.value)" ng-options="hsy_filter.text for hsy_filter in filtering_options track by hsy_filter.value">
                </select>
          </div>
        </div>
      </div>
      <hr>
      <div ng-show="columnTabSet(1)">
        <h1>Rules</h1>
        <div class="rowtabwrap" ng-click="tabChange($event)">
          <a href="#rulesHistory" class="tab-control" ng-class="{'active':rowtab=='#rulesHistory'}">Rules History</a>
          <a href="#sc_rulesHistory" class="tab-control" ng-class="{'active':rowtab=='#sc_rulesHistory'}">Scheduled Rules History</a>
        </div>
        <div class="content-wrapper">
          <div id="rulesHistory" class="ng-hide" ng-show="rowtab=='#rulesHistory'">
            <h4>Rules History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true">
                </pagination>
              </div>
            </div>
          </div>
          <div id="sc_rulesHistory" class="ng-hide" ng-show="rowtab=='#sc_rulesHistory'">
            <h4>Scheduled Rules History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true"></pagination>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div ng-show="columnTabSet(2)">
        <h1>Releases</h1>
        <div class="rowtabwrap" ng-click="tabChange($event)">
          <a href="#releaseHistory" class="tab-control" ng-class="{'active':rowtab=='#releaseHistory'}">Release History</a>
          <a href="#sc_releaseHistory" class="tab-control" ng-class="{'active':rowtab=='#sc_releaseHistory'}">Scheduled Release History</a>
        </div>
        <div class="content-wrapper">
          <div id="releaseHistory" class="ng-hide" ng-show="rowtab=='#releaseHistory'">
            <h4>Rules History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true"></pagination>
              </div>
            </div>
          </div>
          <div id="sc_releaseHistory" class="ng-hide" ng-show="rowtab=='#sc_releaseHistory'">
            <h4>Scheduled Release History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true"></pagination>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div ng-show="columnTabSet(3)">
        <h1>Permissions</h1>
        <div class="rowtabwrap" ng-click="tabChange($event)">
          <a href="#permissionsHistory" class="tab-control" ng-class="{'active':rowtab=='#permissionsHistory'}">Permissions History</a>
          <a href="#sc_permissionsHistory" class="tab-control" ng-class="{'active':rowtab=='#sc_permissionsHistory'}">Scheduled Permissions History</a>
        </div>
        <div class="content-wrapper">
          <div id="permissionsHistory" class="ng-hide" ng-show="rowtab=='#permissionsHistory'">
            <h4>Rules History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true"></pagination>
              </div>
            </div>
          </div>
          <div id="sc_permissionsHistory" class="ng-hide" ng-show="rowtab=='#sc_permissionsHistory'">
            <h4>Scheduled Permissions History</h4>
            <div class="table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th class="historyId">ID
                      <span class="{{Header[0]}}"></span>
                    </th>
                    <th class="object_name">Object
                      <span class="{{Header[1]}}"></span>
                    </th>
                    <th class="email">Email
                      <span class="{{Header[2]}}"></span>
                    </th>
                    <th class="start_date">Start Date
                      <span class="{{Header[3]}}"></span>
                    </th>
                    <th class="end_date">End Date
                      <span class="{{Header[4]}}"></span>
                    </th>
                    <th class="historyId"> ID
                      <span class="{{Header[5]}}"></span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in allHistory">
                    <td>{{$index+1}}</td>
                    <td>{{item.object_name}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.start_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.end_date | date:'dd/MM/yyyy'}}</td>
                    <td>{{item.historyId}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination-container">
                <pagination class="pagination-sm" total-items="history_name ? history_count : filtered_items.length" ng-model="currentPage"
                  items-per-page="pageSize" max-size="maxSize" boundary-links="true"></pagination>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
