<div class="modal-header">
    <h3 class="modal-title" ng-show="is_edit">Edit Rule</h3>
    <h3 class="modal-title" ng-show="!is_edit && !is_duplicate">Add Rule</h3>
    <h3 class="modal-title" ng-show="!is_edit && is_duplicate">Duplicate Existing Rule</h3>
</div>
<div class="modal-body">
  <form role="form">
    <div class="row">

      <div class="col-md-6">
        <div class="form-group"  ng-class="{'has-error': errors.product}">
          <label for="id_product">Product</label>
          <input type="text" class="form-control" id="id_product" ng-model="rule.product"
           typeahead="product for product in products | filter:$viewValue | limitTo:16">
          <p class="help-block" ng-show="errors.product">{{ errors.product.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.channel}">
          <label for="id_channel">Channel</label>
          <input type="text" class="form-control" id="id_product" ng-model="rule.channel"
           typeahead="channel for channel in channels | filter:$viewValue | limitTo:16">
          <p class="help-block" ng-show="errors.channel">{{ errors.channel.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">

      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.mapping}">
          <label for="id_mapping">Mapping</label>
          <input type="text" class="form-control" id="id_mapping" ng-model="rule.mapping"
           typeahead="name for name in names | filter:$viewValue | limitTo:16">
          <p class="help-block" ng-show="errors.mapping">{{ errors.mapping.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.fallbackMapping}">
          <label for="id_fallbackMapping">Fallback Mapping</label>
          <input type="text" class="form-control" id="id_mapping" ng-model="rule.fallbackMapping"
           typeahead="name for name in names | filter:$viewValue | limitTo:16">
          <p class="help-block" ng-show="errors.fallbackMapping">{{ errors.fallbackMapping.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.backgroundRate}">
          <label for="id_rate">Rate</label>
          <input type="number" class="form-control" id="id_rate" ng-model="rule.backgroundRate">
          <p class="help-block" ng-show="errors.backgroundRate">{{ errors.backgroundRate.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.priority}">
          <label for="id_priority">Priority</label>
          <input type="number" class="form-control" id="id_priority" ng-model="rule.priority">
          <p class="help-block" ng-show="errors.priority">{{ errors.priority.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.version}">
          <label for="id_version">Version</label>
          <input type="text" class="form-control" id="id_version" ng-model="rule.version">
          <p class="help-block" ng-show="errors.version">{{ errors.version.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.buildId}">
          <label for="id_buildID">Build ID</label>
          <input type="text" class="form-control" id="id_buildID" ng-model="rule.buildID">
          <p class="help-block" ng-show="errors.buildID">{{ errors.buildID.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.locale}">
          <label for="id_locale">Locale</label>
          <input type="text" class="form-control" id="id_locale" ng-model="rule.locale">
          <p class="help-block" ng-show="errors.locale">{{ errors.locale.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.distribution}">
          <label for="id_distribution">Distribution</label>
          <input type="text" class="form-control" id="id_distribution" ng-model="rule.distribution">
          <p class="help-block" ng-show="errors.distribution">{{ errors.distribution.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.buildTarget}">
          <label for="id_buildTarget">Build Target</label>
          <input type="text" class="form-control" id="id_buildTarget" ng-model="rule.buildTarget">
          <p class="help-block" ng-show="errors.buildTarget">{{ errors.buildTarget.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.osVersion}">
          <label for="id_osVersion">OS Version</label>
          <input type="text" class="form-control" id="id_osVersion" ng-model="rule.osVersion">
          <p class="help-block" ng-show="errors.osVersion">{{ errors.osVersion.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.systemCapabilities}">
          <label for="id_systemCapabilities">System Capabilities</label>
          <input type="text" class="form-control" id="id_systemCapabilities" ng-model="rule.systemCapabilities">
          <p class="help-block" ng-show="errors.systemCapabilities">{{ errors.systemCapabilities.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.distVersion}">
          <label for="id_distVersion">Dist version</label>
          <input type="text" class="form-control" id="id_distribution" ng-model="rule.distVersion">
          <p class="help-block" ng-show="errors.distVersion">{{ errors.distVersion.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.whitelist}">
          <label for="id_whitelist">Whitelist</label>
          <input type="text" class="form-control" id="id_whitelist" ng-model="rule.whitelist"
           typeahead="name for name in names | filter:$viewValue | limitTo:16">
          <p class="help-block" ng-show="errors.whitelist">{{ errors.whitelist.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.update_type}">
          <label for="id_update_type">Update Type</label>
          <input type="text" class="form-control" id="id_update_type" ng-model="rule.update_type">
          <p class="help-block" ng-show="errors.update_type">{{ errors.update_type.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.headerArchitecture}">
          <label for="id_headerArchitecture">Header Architecture</label>
          <input type="text" class="form-control" id="id_headerArchitecture" ng-model="rule.headerArchitecture">
          <p class="help-block" ng-show="errors.headerArchitecture">{{ errors.headerArchitecture.join(', ') }}</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group" ng-class="{'has-error': errors.alias}">
          <label for="id_distribution">Alias</label>
          <input type="text" class="form-control" id="id_distribution" ng-model="rule.alias">
          <p class="help-block" ng-show="errors.alias">{{ errors.alias.join(', ') }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group" ng-class="{'has-error': errors.comment}">
          <label for="id_comment">Comment</label>
          <input type="text" class="form-control" id="id_comment" ng-model="rule.comment">
          <p class="help-block" ng-show="errors.comment">{{ errors.comment.join(', ') }}</p>
        </div>
      </div>
    </div>

    <input type="hidden" name="data_version" ng-model="rule.data_version">
  </form>
</div>
<div class="modal-footer">
  <div ng-show="saving" small-loader></div>
  <button class="btn btn-primary" ng-show="!saving" ng-click="saveChanges()">Save Changes</button>
  <button class="btn btn-default" ng-show="!saving" ng-click="cancel()">Cancel</button>
</div>
