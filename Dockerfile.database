FROM mysql:8.0-debian@sha256:1ae7ba07e714856c61aa0d559a8f1a788eb8f25bd0b5b71738a1bdd6798bc022

# netcat is used to listen to the ports.

RUN apt-get -q update \
    && apt-get -q --yes install netcat-traditional pkg-config \
    && apt-get clean

# Lower error logging to get rid of health check spam
RUN ["/bin/bash", "-c", "echo '[mysqld]\nlog_error_verbosity=2' > /etc/mysql/conf.d/errors.cnf"]
